.playfield {
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  gap: 1px;
  background: linear-gradient(180deg, #0d0d33 0%, #111140 100%);
  border: 2px solid #2a2a5a;
  border-radius: 6px;
  padding: 1px;
  width: min(65vw, 280px);
  aspect-ratio: 1 / 2;
  box-shadow:
    0 0 30px rgba(0, 0, 0, 0.6),
    0 0 60px rgba(0, 50, 100, 0.15),
    inset 0 0 15px rgba(0, 0, 0, 0.4);
  position: relative;
  touch-action: none;
}

.cell {
  aspect-ratio: 1;
  border-radius: 2px;
  transition: background-color 0.06s ease, box-shadow 0.06s ease;
  will-change: background-color, box-shadow, transform;
}

.empty {
  background: rgba(15, 15, 50, 0.5);
  border: 1px solid rgba(30, 30, 70, 0.4);
}

.filled {
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.2),
    inset 0 -1px 2px rgba(0, 0, 0, 0.3),
    0 0 4px currentColor;
}

.ghost {
  border: 2px solid rgba(255, 255, 255, 0.2);
  opacity: 0.25;
  background: none !important;
  box-shadow: inset 0 0 8px currentColor;
}

.clearing {
  animation: clearFlash 0.4s ease-out;
  will-change: transform, filter, opacity;
}

@keyframes clearFlash {
  0% {
    filter: brightness(4);
    transform: scale(1.1);
    box-shadow: 0 0 12px #fff;
  }
  40% {
    filter: brightness(2.5);
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
  }
  100% {
    filter: brightness(0);
    transform: scale(0.8);
    opacity: 0;
  }
}

.active {
  border: 1px solid rgba(255, 255, 255, 0.35);
  box-shadow:
    inset 0 1px 3px rgba(255, 255, 255, 0.25),
    inset 0 -1px 2px rgba(0, 0, 0, 0.2),
    0 0 8px currentColor;
  animation: activePulse 0.8s ease-in-out infinite alternate;
}

@keyframes activePulse {
  from {
    box-shadow:
      inset 0 1px 3px rgba(255, 255, 255, 0.25),
      inset 0 -1px 2px rgba(0, 0, 0, 0.2),
      0 0 6px currentColor;
  }
  to {
    box-shadow:
      inset 0 1px 3px rgba(255, 255, 255, 0.25),
      inset 0 -1px 2px rgba(0, 0, 0, 0.2),
      0 0 12px currentColor;
  }
}

.landing {
  animation: landFlash 0.2s ease-out;
}

@keyframes landFlash {
  0% {
    filter: brightness(2);
    transform: scale(1.08);
  }
  100% {
    filter: brightness(1);
    transform: scale(1);
  }
}

/* Mobile portrait: larger playfield */
@media (max-width: 480px) and (orientation: portrait) {
  .playfield {
    width: min(88vw, 360px);
  }
}

/* Mobile landscape */
@media (max-height: 500px) and (orientation: landscape) {
  .playfield {
    width: min(40vh, 200px);
  }
}
